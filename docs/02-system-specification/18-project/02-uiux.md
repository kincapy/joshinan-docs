---
title: プロジェクト機能 — UIUX定義
---

# プロジェクト機能 — UIUX定義

## 画面一覧

| # | 画面 | パス | 説明 |
|---|------|------|------|
| 1 | プロジェクト一覧 | `/projects` | 進行中・完了済みプロジェクトの一覧 |
| 2 | プロジェクト新規作成 | `/projects/new` | スキル選択 → ウィザード形式で必要情報を入力 |
| 3 | プロジェクト詳細 | `/projects/[id]` | 4タブ構成のタスクボード + メンバー管理 |
| 4 | タスク詳細 | `/projects/[id]/tasks/[taskCode]` | タスクの操作画面（ファイルアップロード・フォーム入力等） |
| 5 | 書類一括アップロード | `/projects/[id]`（モーダル） | 複数書類をAIで解析し該当タスクに自動振り分け |
| 6 | スキル管理 | `/projects/skills` | スキルの一覧・作成・修正（管理者以上） |

## 画面構成

### プロジェクト一覧画面

```
┌──────────────────────────────────────────────────────┐
│  ヘッダー（アプリ共通）                                │
├──────────────────────────────────────────────────────┤
│                                                      │
│  プロジェクト一覧              [+ 新規プロジェクト]    │
│                                                      │
│  ● 進行中 (2)  ○ 完了  ○ 全て                        │
│                                                      │
│  ┌────────────────────────────────────────────────┐  │
│  │ 田中太郎の特定技能申請                          │  │
│  │ スキル: 特定技能申請  ステータス: 進行中         │  │
│  │ 進捗: ████████░░ 12/18タスク完了               │  │
│  │ 開始: 2026/2/1  オーナー: 佐藤                  │  │
│  └────────────────────────────────────────────────┘  │
│                                                      │
│  ┌────────────────────────────────────────────────┐  │
│  │ 李明の特定技能申請                              │  │
│  │ スキル: 特定技能申請  ステータス: 進行中         │  │
│  │ 進捗: ███░░░░░░░ 5/20タスク完了                │  │
│  │ 開始: 2026/2/10  オーナー: 田中                  │  │
│  └────────────────────────────────────────────────┘  │
│                                                      │
└──────────────────────────────────────────────────────┘
```

### プロジェクト詳細画面（4タブ構成）

タスクを3つのフェーズ + 最終提出の4タブで管理する。各タブに完了数/必要数を表示。

```
┌──────────────────────────────────────────────────────┐
│  ← 一覧に戻る  田中太郎の特定技能申請                 │
│  特定技能申請  進行中                                 │
│  進捗: ████████░░ 12/18タスク完了                    │
├──────────────────────────────────────────────────────┤
│                                                      │
│  [当社作成 10/14] [申請人 1/8] [企業 1/9] [最終提出]  │
│  ─────────────────                                   │
│                                                      │
│  ┌───────────────────────────────────────────────┐   │
│  │ コード  タスク名              ステータス  担当  │   │
│  │                                               │   │
│  │ DAT-001 受入れ企業情報        完了 ✓   佐藤  →│   │
│  │ DOC-001 申請書（申請人用）    完了 ✓   —    →│   │
│  │ DOC-002 申請書（所属機関用）  完了 ✓   佐藤  →│   │
│  │ DOC-003 雇用契約書            対応中    佐藤  →│   │
│  │ DOC-004 雇用条件書            未着手    —    →│   │
│  │ ...                                           │   │
│  └───────────────────────────────────────────────┘   │
│                                                      │
│  [メンバー管理]                                       │
│                                                      │
└──────────────────────────────────────────────────────┘

→ をクリックすると /projects/[id]/tasks/[taskCode] に遷移
```

#### タブの構成

| タブ | 含まれるタスク | 件数表示 |
|------|-------------|---------|
| 当社作成 | DAT-001 + DOC-001〜013（最大14件） | 完了数/必須数 |
| 申請人 | COL-001〜011, COL-019〜020（最大13件、条件で変動） | 完了数/必須数 |
| 企業 | COL-012〜018, COL-021〜023（最大11件、条件で変動） | 完了数/必須数 |
| 最終提出 | REV-001（1件） | — |

「不要」と判定されたタスクは件数に含めない。ステータスが「不要」のタスクはグレーアウト表示。

### タスク詳細画面

タスクの行をクリックすると `/projects/[id]/tasks/[taskCode]` に遷移する。タスクの種類（フォーム入力 / ファイルアップロード / 確認）で画面構成が異なる。

#### フォーム入力タスク（DAT系）

```
┌──────────────────────────────────────────────────────┐
│  ← タスク一覧に戻る                                   │
│  DAT-001 受入れ企業の基本情報入力                     │
│  ステータス: [完了 ▼]                                │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ■ 企業情報                                          │
│                                                      │
│  企業名 *:     [株式会社サンプル______]               │
│  代表者名 *:   [山田太郎______________]               │
│  郵便番号:     [123-4567_______________]              │
│  所在地 *:     [東京都千代田区...______]               │
│  電話番号 *:   [03-1234-5678__________]               │
│  法人番号:     [1234567890123__________]              │
│  設立年月日:   [2010/04/01_____________]              │
│  営業許可:     [旅館業許可 第123号_____]               │
│                                                      │
│  → 保存すると DOC-001〜013 の企業欄に自動反映         │
│                                                      │
│  ■ 書類アップロード（任意）                           │
│                                                      │
│  以前の申請書類があればアップロードしてください。       │
│  AIが内容を読み取り、フォームに自動入力します。        │
│  [📎 書類をアップロード]                              │
│                                                      │
│  ■ ステータス変更履歴                                 │
│                                                      │
│  2026/2/15 10:30  佐藤  未着手 → 対応中              │
│  2026/2/18 14:00  佐藤  対応中 → 完了                │
│                                                      │
│  [保存]                                              │
│                                                      │
└──────────────────────────────────────────────────────┘
```

#### ファイルアップロードタスク（COL系）

```
┌──────────────────────────────────────────────────────┐
│  ← タスク一覧に戻る                                   │
│  COL-001 健康診断個人票                               │
│  ステータス: [対応中 ▼]                              │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ■ ファイル                                          │
│                                                      │
│  [📎 ファイルをアップロード]                          │
│                                                      │
│  アップロード済み:                                    │
│  ┌────────────────────────────────────────────┐      │
│  │ 📄 健康診断個人票_田中太郎.pdf              │      │
│  │    2026/2/20 アップロード by 佐藤           │      │
│  │    [プレビュー]  [削除]                     │      │
│  └────────────────────────────────────────────┘      │
│                                                      │
│  ■ 担当者                                            │
│  [佐藤 ▼]                                            │
│                                                      │
│  ■ メモ                                              │
│  ┌──────────────────────────────────────────┐        │
│  │ 2/15に検診予約済み。結果は3/1頃届く予定。  │        │
│  └──────────────────────────────────────────┘        │
│                                                      │
│  ■ ステータス変更履歴                                 │
│                                                      │
│  2026/2/10 09:00  佐藤  未着手 → 対応中              │
│  2026/2/20 16:30  佐藤  対応中 → 完了                │
│                                                      │
│  [保存]                                              │
│                                                      │
└──────────────────────────────────────────────────────┘
```

#### 書類アップロードからの自動データ入力

企業から以前の申請で使った書類をもらった場合、アップロードするとAIが内容を読み取り、関連タスクのフォームに自動入力する。

```
DAT-001 の「書類アップロード」にファイルをドロップ
  ↓
┌──────────────────────────────────────┐
│ アップロードされた書類を解析中...      │
│                                      │
│ 「在留資格変更許可申請書（所属機関    │
│ 用）」を検出しました。                │
│                                      │
│ 以下の情報を読み取りました:          │
│ ☑ 企業名: 株式会社サンプル           │
│ ☑ 代表者名: 山田太郎                │
│ ☑ 所在地: 東京都千代田区...          │
│ ☑ 電話番号: 03-1234-5678            │
│ ☑ 法人番号: 1234567890123           │
│ ☐ 設立年月日: （読み取れず）         │
│                                      │
│ フォームに反映しますか？              │
│  [反映する]  [キャンセル]            │
└──────────────────────────────────────┘
```

この機能は DAT-001 だけでなく、DOC系タスクでも使用できる。例えば以前の雇用契約書をアップロードすると、DOC-003 のフォームに自動入力される。

#### 最終確認・提出タブ（REV-001）

```
┌──────────────────────────────────────────────────────┐
│  ← タスク一覧に戻る                                   │
│  REV-001 全書類の最終確認・入管提出                   │
│  ステータス: [未着手 ▼]                              │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ■ 提出準備チェック                                   │
│                                                      │
│  当社作成（DOC）:  10/14 完了  ⚠ 未完了あり          │
│  申請人（COL）:    8/8 完了   ✓                      │
│  企業（COL）:      9/9 完了   ✓                      │
│                                                      │
│  未完了タスク:                                        │
│  ・DOC-003 雇用契約書 — 対応中                       │
│  ・DOC-004 雇用条件書 — 未着手                       │
│  ・DOC-005 支援計画書 — 未着手                       │
│  ・DOC-010 分野別一覧表 — 未着手                     │
│                                                      │
│  ■ 申請書類セット生成                                 │
│                                                      │
│  全タスク完了後に生成できます。                        │
│  [申請書類セットを生成]  ← グレーアウト（未完了時）   │
│                                                      │
│  ■ ステータス変更履歴                                 │
│                                                      │
│  （まだ変更なし）                                     │
│                                                      │
└──────────────────────────────────────────────────────┘
```

全タスク完了後:

```
│  ■ 提出準備チェック                                   │
│                                                      │
│  当社作成（DOC）:  14/14 完了  ✓                     │
│  申請人（COL）:    8/8 完了   ✓                      │
│  企業（COL）:      9/9 完了   ✓                      │
│                                                      │
│  ■ 申請書類セット生成                                 │
│                                                      │
│  [申請書類セットを生成]  ← 有効化                     │
│                                                      │
│  生成済み:                                            │
│  ┌──────────────────────────────────┐                │
│  │ 申請書類セット（13ファイル）       │                │
│  │ DOC-001 申請書（申請人用）.pdf     │                │
│  │ DOC-002 申請書（所属機関用）.pdf   │                │
│  │ DOC-003 雇用契約書.pdf            │                │
│  │ ...                              │                │
│  │ [一括ダウンロード（ZIP）]          │                │
│  │ [Boxに保存]                       │                │
│  └──────────────────────────────────┘                │
```

### 書類一括アップロード画面

プロジェクト詳細画面のヘッダー部分に「書類をまとめてアップロード」ボタンを配置。複数の書類を一度にアップロードすると、AIが書類の種類を判定し、該当するタスクに自動で格納する。

```
┌──────────────────────────────────────────────────────┐
│  ← 一覧に戻る  田中太郎の特定技能申請                 │
│  特定技能申請  進行中                                 │
│  進捗: ████████░░ 12/18タスク完了                    │
│                                                      │
│  [📎 書類をまとめてアップロード]                      │
│                                                      │
├──────────────────────────────────────────────────────┤
│  [当社作成 10/14] [申請人 1/8] [企業 1/9] [最終提出]  │
│  ...                                                 │
└──────────────────────────────────────────────────────┘
```

#### 一括アップロードモーダル

```
┌──────────────────────────────────────────────────────┐
│  書類をまとめてアップロード                            │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ┌──────────────────────────────────────────────┐    │
│  │                                              │    │
│  │   📎 ファイルをドラッグ＆ドロップ             │    │
│  │   または [ファイルを選択]                     │    │
│  │                                              │    │
│  │   複数ファイル対応（PDF・画像）               │    │
│  │                                              │    │
│  └──────────────────────────────────────────────┘    │
│                                                      │
│  アップロード済み:                                    │
│  ┌──────────────────────────────────────────────┐    │
│  │ 📄 パスポートコピー_田中.pdf         解析待ち │    │
│  │ 📄 健康診断個人票.pdf               解析待ち │    │
│  │ 📄 以前の申請書（所属機関用）.pdf    解析待ち │    │
│  └──────────────────────────────────────────────┘    │
│                                                      │
│  [AIで解析して振り分ける]  [キャンセル]               │
│                                                      │
└──────────────────────────────────────────────────────┘
```

#### AI解析結果の確認画面

```
┌──────────────────────────────────────────────────────┐
│  解析結果の確認                                       │
├──────────────────────────────────────────────────────┤
│                                                      │
│  3件のファイルを解析しました。振り分け先を確認して     │
│  ください。                                          │
│                                                      │
│  ┌──────────────────────────────────────────────┐    │
│  │ 📄 パスポートコピー_田中.pdf                  │    │
│  │ → COL-002 パスポートコピー           ✓ 確定  │    │
│  │   信頼度: 高                                 │    │
│  │   [変更 ▼]                                   │    │
│  └──────────────────────────────────────────────┘    │
│                                                      │
│  ┌──────────────────────────────────────────────┐    │
│  │ 📄 健康診断個人票.pdf                         │    │
│  │ → COL-001 健康診断個人票             ✓ 確定  │    │
│  │   信頼度: 高                                 │    │
│  │   [変更 ▼]                                   │    │
│  └──────────────────────────────────────────────┘    │
│                                                      │
│  ┌──────────────────────────────────────────────┐    │
│  │ 📄 以前の申請書（所属機関用）.pdf             │    │
│  │ → DOC-002 申請書（所属機関用）       ⚠ 確認 │    │
│  │   信頼度: 中                                 │    │
│  │   読み取ったデータ:                          │    │
│  │   ☑ 企業名: 株式会社サンプル                 │    │
│  │   ☑ 代表者名: 山田太郎                      │    │
│  │   ☑ 所在地: 東京都千代田区...                │    │
│  │   → DAT-001 のフォームにも自動入力します     │    │
│  │   [変更 ▼]                                   │    │
│  └──────────────────────────────────────────────┘    │
│                                                      │
│  [確定して格納する]  [キャンセル]                     │
│                                                      │
└──────────────────────────────────────────────────────┘
```

#### 振り分けの仕組み

| ステップ | 処理 | 説明 |
|---------|------|------|
| 1 | ファイルアップロード | ユーザーが複数ファイルをドラッグ＆ドロップ |
| 2 | AI解析 | Claude APIで書類の種類を判定（タスクコード一覧をコンテキストに渡す） |
| 3 | 振り分け提案 | 各ファイルの振り分け先タスクを信頼度付きで提案 |
| 4 | ユーザー確認 | 振り分け先を確認・変更できる。[変更]で別タスクを選択可能 |
| 5 | 格納 | 確定後、各タスクの filePath にファイルを保存し、ステータスを更新 |

#### 信頼度の基準

| 信頼度 | 表示 | 判定基準 |
|--------|------|---------|
| 高 | ✓ 確定 | ファイル名・内容から一意に特定できる |
| 中 | ⚠ 確認 | 候補が複数あるか、内容の一部しか一致しない |
| 低 | ❌ 不明 | 判定できない。ユーザーが手動で選択する |

#### AI解析で行うこと

| 書類の種類 | AIの処理 |
|-----------|---------|
| 証憑書類（パスポート、健康診断等） | → 該当する COL 系タスクに格納 |
| 以前の申請書 | → 該当する DOC 系タスクに格納 + データを読み取って DAT-001 のフォームに自動入力 |
| 判定不能 | → ユーザーに手動選択を促す |

#### コスト管理

- Claude API の呼び出しは「AIで解析して振り分ける」ボタン押下時のみ（自動実行しない）
- 1回のAPI呼び出しで全ファイルをまとめて解析する（ファイルごとに呼び出さない）
- 解析結果はプロジェクトに保存し、同じファイルの再解析を防止する

## UIフロー

### 新規プロジェクト開始（特定技能申請の場合）

スキルごとにウィザード形式の質問が表示される。特定技能申請スキルの場合は以下の2ステップ。

```
[+ 新規プロジェクト] をクリック
  ↓
┌──────────────────────────────────────┐
│ STEP 1: スキルを選択                 │
│                                      │
│ ☐ 特定技能申請                       │
│   特定技能の在留資格変更許可申請      │
│                                      │
│ ☐ 募集活動（将来追加）               │
│ ☐ ビザ更新（将来追加）               │
│                                      │
│  [次へ]  [キャンセル]                │
└──────────────────────────────────────┘
  ↓
┌──────────────────────────────────────┐
│ STEP 2: 対象学生を選択               │
│                                      │
│ 学生を検索:                          │
│   [検索: 田中________]               │
│                                      │
│   検索結果:                          │
│   ● 田中太郎（ベトナム・2024年4月入学）│
│   ○ 田中花子（ネパール・2025年4月入学）│
│                                      │
│ → 選択した学生の国籍から、            │
│   二国間取決書類の要否を自動判定      │
│                                      │
│  [次へ]  [戻る]                      │
└──────────────────────────────────────┘
  ↓
┌──────────────────────────────────────┐
│ STEP 3: 職種（分野）を選択           │
│                                      │
│ ☐ 介護                              │
│ ☐ 宿泊                              │
│ ☐ 外食業                            │
│ ☐ 飲食料品製造業                     │
│ ☐ 自動車運送業                       │
│                                      │
│ → 職種により追加で必要な書類を        │
│   自動判定                           │
│                                      │
│  [プロジェクト開始]  [戻る]          │
└──────────────────────────────────────┘
  ↓
プロジェクト名が自動生成される
（例: 「田中太郎の特定技能申請」）

タスクボードが自動生成される
（条件分岐ルールに基づいて必要/不要が判定済み）
```

#### 自動判定される条件分岐

| 入力 | 判定内容 | 対象タスク |
|------|---------|-----------|
| 学生の国籍（DBから取得） | ベトナム・カンボジア・タイ → 二国間取決書類が必須 | COL-019 |
| 職種 = 介護 | 介護日本語評価試験合格証が必須 | COL-020 |
| 職種 = 宿泊 | 旅館業許可証が必須 | COL-021 |
| 職種 = 自動車運送業 | 運転免許証・協議会証明書が必須 | COL-022, COL-023 |

#### 聞かない項目（全タスク必須）

| 項目 | 理由 |
|------|------|
| 技能実習2号修了 | 全員に試験証明書を求める（免除しない） |
| 保険種別（社会保険/国民健康保険） | プロジェクト内で該当書類をファイルアップロードする |
| 年金種別（厚生年金/国民年金） | プロジェクト内で該当書類をファイルアップロードする |

### タスクの操作

#### データ入力タスク（DAT系）

DAT-001 をクリックするとフォーム入力画面が開く。入力内容は Company テーブルに保存され、DOC系タスクの申請書に自動反映される。

```
DAT-001 をクリック
  ↓
┌──────────────────────────────────────┐
│ DAT-001 受入れ企業の基本情報入力     │
│                                      │
│ 企業名 *:  [____________]            │
│ 代表者名 *: [____________]           │
│ 郵便番号:  [____________]            │
│ 所在地 *:  [____________]            │
│ 電話番号 *: [____________]           │
│ 法人番号:  [____________]            │
│ 設立年月日: [____/____/____]         │
│ 営業許可:  [____________]            │
│                                      │
│ → 保存すると DOC-001〜013 の         │
│   企業欄に自動反映されます           │
│                                      │
│  [保存]  [キャンセル]                │
└──────────────────────────────────────┘
```

#### ファイルアップロードタスク（COL系）

```
COL-001 をクリック
  ↓
┌──────────────────────────────────────┐
│ COL-001 健康診断個人票               │
│                                      │
│ ステータス: [収集依頼中 ▼]           │
│ 担当: [佐藤 ▼]                      │
│                                      │
│ ファイル:                            │
│  [📎 ファイルをアップロード]          │
│                                      │
│ メモ:                                │
│  ┌──────────────────────────────┐    │
│  │ 2/15に検診予約済み。          │    │
│  │ 結果は3/1頃届く予定。         │    │
│  └──────────────────────────────┘    │
│                                      │
│  [保存]  [キャンセル]                │
└──────────────────────────────────────┘
```

### メンバー管理

```
[メンバー管理] をクリック
  ↓
┌──────────────────────────────────────┐
│ プロジェクトメンバー                  │
│                                      │
│ 佐藤（オーナー）            [—]      │
│ 田中（編集者）              [変更▼]  │
│ 鈴木（閲覧者）              [変更▼]  │
│                                      │
│ [+ メンバーを追加]                    │
│                                      │
│  [閉じる]                            │
└──────────────────────────────────────┘
```

## スキル管理画面

管理者以上がアクセスできるスキルの管理画面。プロンプトベースで操作する。

```
┌──────────────────────────────────────────────────────┐
│  スキル管理                                          │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ● 有効 (1)  ○ 無効  ○ 全て                         │
│                                                      │
│  ┌────────────────────────────────────────────────┐  │
│  │ 特定技能申請                                    │  │
│  │ 目的: 特定技能の在留資格変更許可申請             │  │
│  │ タスク数: 37  バージョン: 1                     │  │
│  │                          [詳細] [修正]          │  │
│  └────────────────────────────────────────────────┘  │
│                                                      │
│  ┌─────────────────────────────────────────────┐     │
│  │ プロンプトでスキルを作成・修正       [送信]  │     │
│  └─────────────────────────────────────────────┘     │
│                                                      │
└──────────────────────────────────────────────────────┘
```

### スキル修正の例

```
User: 「特定技能申請スキルに、2025年4月新設の協力確認書（DOC-013）を
       必須タスクとして追加して」
  ↓
AI: 「以下の変更をスキル「特定技能申請」に適用します。」
    ┌──────────────────────────────────────┐
    │ 追加タスク: DOC-013 協力確認書        │
    │ カテゴリ: 書類作成                    │
    │ アクション: 自動生成                  │
    │ 必須: はい                           │
    │                                      │
    │  [決裁申請]  [キャンセル]             │
    └──────────────────────────────────────┘
```
