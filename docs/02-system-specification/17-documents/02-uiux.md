---
title: 帳票出力 — UIUX定義
---

# 帳票出力 — UIUX定義

## 画面一覧

| # | 画面 | パス | 説明 |
|---|------|------|------|
| 1 | 帳票メイン | `/documents` | プロンプトベースの帳票操作画面 |

## 画面構成

### 全体レイアウト

```
┌──────────────────────────────────────────────────────┐
│  ヘッダー（アプリ共通）                                │
├────────────┬─────────────────────────────────────────┤
│            │                                         │
│ テンプレート│         操作領域（プロンプトベース）       │
│   一覧     │                                         │
│            │  ┌─────────────────────────────────┐    │
│ ● 証明書   │  │ User: 田中太郎さんの出席証明書   │    │
│  出席証明  │  │       を出して                   │    │
│  在籍証明  │  │                                 │    │
│  長期休暇  │  │ AI: 出席証明書を生成しました。   │    │
│  卒業証明  │  │                                 │    │
│            │  │ ┌──────────────────────────┐    │    │
│ ● 入管書類 │  │ │ 出席成績証明書            │    │    │
│  離脱届   │  │ │ 田中太郎                  │    │    │
│  在籍報告  │  │ │ 2025/4〜2026/2            │    │    │
│  定期報告  │  │ │ 出席率: 92.3%            │    │    │
│            │  │ └──────────────────────────┘    │    │
│ ● 社内文書 │  │                                 │    │
│            │  │ [PDFダウンロード] [Excel]        │    │
│            │  └─────────────────────────────────┘    │
│            │                                         │
│            │  ┌─────────────────────────────────┐    │
│            │  │ 入力欄                    [送信] │    │
│            │  └─────────────────────────────────┘    │
├────────────┴─────────────────────────────────────────┤
```

## モード別 UI フロー

### 出力モード

```
User: 「田中太郎さんの出席証明書を出して」
  ↓
AI: テンプレート「出席証明書」を特定
    + DBから田中太郎の出席データを取得
    + プレビューを表示
    ┌──────────────────────────────────────┐
    │ [プレビュー]                          │
    │ 出席成績証明書                        │
    │ 氏名: 田中太郎                       │
    │ 期間: 2025/4/1〜2026/2/28            │
    │ 出席率: 92.3%                        │
    │ ...                                  │
    └──────────────────────────────────────┘
    [PDFダウンロード] [Excelダウンロード]
```

#### パラメータが必要な場合

```
User: 「長期休暇証明書を出して」
  ↓
AI: 「対象の学生と休暇期間を教えてください。」
  ↓
User: 「田中太郎、7月20日から8月31日」
  ↓
AI: プレビュー表示 + ダウンロードボタン
```

#### 複数学生の一括出力

```
User: 「A1クラス全員の出席証明書を出して」
  ↓
AI: 「A1クラスの学生15名分の出席証明書を生成します。よろしいですか？」
  ↓
User: 「はい」
  ↓
AI: 「15名分のPDFを生成しました。」
    [一括ダウンロード（ZIP）]
```

### 修正モード — テンプレート変更

**必ず決裁を通す。**

```
User: 「長期休暇証明書の期間を7月20日〜8月31日に変えて」
  ↓
AI: 変更内容を解釈し、確認画面を表示
    ┌──────────────────────────────────────┐
    │ テンプレート「長期休暇証明書」の      │
    │ 変更を申請します。                    │
    │                                      │
    │ 変更箇所: 休暇期間のデフォルト値      │
    │ 変更前: 2025年7月21日〜8月31日       │
    │ 変更後: 2026年7月20日〜8月31日       │
    │                                      │
    │  [決裁申請]  [キャンセル]             │
    └──────────────────────────────────────┘
  ↓
決裁者: 承認後 → テンプレートが更新される
```

### 修正モード — テンプレート新規作成

**必ず決裁を通す。**

```
User: 「卒業見込証明書のテンプレートを作って。
       学生名、生年月日、コース名、卒業予定日を含めて」
  ↓
AI: テンプレート案を生成し、プレビューを表示
    ┌──────────────────────────────────────┐
    │ 新規テンプレート「卒業見込証明書」     │
    │                                      │
    │ [プレビュー]                          │
    │  卒業見込証明書                       │
    │  氏名: {{student_name}}              │
    │  生年月日: {{birth_date}}            │
    │  コース: {{course_name}}             │
    │  卒業予定日: {{graduation_date}}     │
    │                                      │
    │ カテゴリ: 証明書                      │
    │ 出力形式: PDF                        │
    │                                      │
    │  [決裁申請]  [修正]  [キャンセル]     │
    └──────────────────────────────────────┘
  ↓
決裁者: 承認後 → 新しいテンプレートがDBに追加される
```

## サイドバーのテンプレート一覧

左サイドバーにカテゴリ別のテンプレート一覧を表示する。

- テンプレートをクリックすると、そのテンプレートのコンテキストで操作を開始
- サイドバーなしでも、プロンプトでテンプレート名を指定すれば操作可能
- 管理者以上はサイドバーからテンプレートの一覧管理（有効/無効の切替）ができる
